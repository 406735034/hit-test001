{% load static %}

<html>
  <head>
    <title>Lesson 1</title>
    <link
      rel="shortcut icon"
      href="{% static 'images/favicon2.ico' %}"
      type="image/x-icon"
    />
    <link
      rel="stylesheet"
      href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css"
      integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p"
      crossorigin="anonymous"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Oswald"
      rel="stylesheet"
    />
    <script
      type="text/javascript"
      src="http://cdnjs.cloudflare.com/ajax/libs/cufon/1.09i/cufon-yui.js"
    ></script>
    <link
      href="https://fonts.googleapis.com/css?family=Roboto+Condensed:300,300i,400,400i,700i"
      rel="stylesheet"
    />

    <script
      type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.4.4/jquery.min.js"
    ></script>
    <script
      src="{%static 'booklet/jquery.easing.1.3.js'%}"
      type="text/javascript"
    ></script>
    <script
      src="{% static 'booklet/jquery.booklet.1.1.0.min.js'  %}"
      type="text/javascript"
    ></script>

    <link
      href="{% static 'booklet/jquery.booklet.1.1.0.css' %}"
      type="text/css"
      rel="stylesheet"
      media="screen"
    />
    <link rel="stylesheet" href="{% static 'css/lesson1.css'%}" />
    <style>
      .b-load div {
        overflow: hidden !important;
      }
    </style>
  </head>
  <body>
    <div class="book_wrapper">
      <button onclick="goback()" class="backbutton">
        <i class="fas fa-arrow-alt-circle-left"></i>
        <h5>返回</h5>
      </button>
      <a id="next_page_button"></a>
      <a id="prev_page_button"></a>

      <div id="mybook" style="display: none; overflow: hidden">
        <div class="b-load" style="overflow: hidden">
          <div>
            <img src="{% static 'lesson1images/1.PNG' %}" alt="" />
          </div>
          <div>
            <img src="{% static 'lesson1images/2.PNG' %}" alt="" />
          </div>
          <div>
            <img src="{% static 'lesson1images/3.PNG' %}" alt="" />
          </div>
          <div>
            <img src="{% static 'lesson1images/4.PNG' %}" alt="" />
          </div>
          <div>
            <img src="{% static 'lesson1images/5.PNG' %}" alt="" />
          </div>
          <div>
            <img src="{% static 'lesson1images/6.PNG' %}" alt="" />
          </div>
          <div>
            <img src="{% static 'lesson1images/7.PNG' %}" alt="" />
          </div>
          <div>
            <img src="{% static 'lesson1images/8.PNG' %}" alt="" />
          </div>
          <div>
            <img src="{% static 'lesson1images/9.PNG' %}" alt="" />
          </div>
          <div>
            <img src="{% static 'lesson1images/10.PNG' %}" alt="" />
          </div>
          <div>
            <img src="{% static 'lesson1images/11.PNG' %}" alt="" />
          </div>

          <div>
            <img src="{% static 'lesson1images/12.PNG' %}" alt="" />
          </div>
          <div>
            <img src="{% static 'lesson1images/13.PNG' %}" alt="" />
          </div>
          <div>
            <img src="{% static 'lesson1images/14.PNG' %}" alt="" />
          </div>
          <div>
            <img src="{% static 'lesson1images/15.PNG' %}" alt="" />
          </div>
          <div>
            <img src="{% static 'lesson1images/16.PNG' %}" alt="" />
          </div>
          <div>
            <img src="{% static 'lesson1images/17.PNG' %}" alt="" />
          </div>
          <div>
            <img src="{% static 'lesson1images/18.PNG' %}" alt="" />
          </div>
          <div>
            <img src="{% static 'lesson1images/19.PNG' %}" alt="" />
          </div>
          <div>
            <img src="{% static 'lesson1images/20.PNG' %}" alt="" />
          </div>

          <div>
            <img src="{% static 'lesson1images/21.PNG' %}" alt="" />
          </div>

          <div>
            <img src="{% static 'lesson1images/22.PNG' %}" alt="" />
          </div>
          <div>
            <img src="{% static 'lesson1images/23.PNG' %}" alt="" />
          </div>
          <div>
            <img src="{% static 'lesson1images/24.PNG' %}" alt="" />
          </div>
          <div>
            <img src="{% static 'lesson1images/25.PNG' %}" alt="" />
          </div>
          <div>
            <img src="{% static 'lesson1images/26.PNG' %}" alt="" />
          </div>
          <div>
            <img src="{% static 'lesson1images/27.PNG' %}" alt="" />
          </div>
          <div>
            <img src="{% static 'lesson1images/28.PNG' %}" alt="" />
          </div>
          <div>
            <img src="{% static 'lesson1images/29.PNG' %}" alt="" />
          </div>
          <div>
            <h1>The End</h1>
            <button>開始考試</button>
          </div>
        </div>
      </div>
    </div>

    <script type="text/javascript">
      $(function () {
        var $mybook = $("#mybook");
        var $bttn_next = $("#next_page_button");
        var $bttn_prev = $("#prev_page_button");
        var $loading = $("#loading");
        var $mybook_images = $mybook.find("img");
        var cnt_images = $mybook_images.length;
        var loaded = 0;

        $mybook_images.each(function () {
          var $img = $(this);
          var source = $img.attr("src");
          $("<img/>")
            .load(function () {
              ++loaded;
              if (loaded == cnt_images) {
                $loading.hide();
                $bttn_next.show();
                $bttn_prev.show();
                $mybook.show().booklet({
                  name: null, //
                  width: 1535, //
                  height: 460, //
                  speed: 600, //
                  direction: "LTR", //
                  //
                  next: $bttn_next, //
                  prev: $bttn_prev, //
                });
                Cufon.refresh();
              }
            })
            .attr("src", source);
        });
      });
    </script>
    <script>
      function goback() {
        window.location.href = "/user/";
      }
    </script>
  </body>
</html>
